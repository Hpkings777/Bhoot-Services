<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Base64 Encoder/Decoder</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>üß¨ Base64 Tool</h1>

  <div class="tabs">
    <div class="tab active" data-tab="text">Text</div>
    <div class="tab" data-tab="image">Image</div>
  </div>

  <div class="container">
    <div id="text" class="panel active">
      <textarea id="textInput" placeholder="Enter your text or Base64 string..."></textarea>
      <div class="buttons-group">
        <button id="encodeTextBtn">Encode Text</button>
        <button id="decodeTextBtn">Decode Text</button>
      </div>
      <div class="textarea-wrapper">
        <textarea id="textOutput" readonly placeholder="Output will appear here..."></textarea>
        <button class="copy-btn" data-target="textOutput">üìã Copy</button>
      </div>
    </div>

    <div id="image" class="panel">
      <label for="fileInput" class="custom-file">üìÅ Choose Image</label>
      <input type="file" id="fileInput" accept="image/*">
      <img id="imgPreview" class="preview" src="" style="display:none" alt="Image preview" />

      <div class="buttons-group">
        <button id="encodeImageBtn">Encode (from output)</button>
        <button id="decodeImageBtn">Decode (to preview)</button>
      </div>
      <div class="textarea-wrapper">
        <textarea id="imageOutput" placeholder="Paste Base64 or choose an image..."></textarea>
        <button class="copy-btn" data-target="imageOutput">üìã Copy</button>
        <button class="paste-btn" id="pasteImageBtn">üì• Paste</button>
      </div>
    </div>
  </div>

  <div id="imageModalOverlay" class="modal-overlay">
    <div class="modal-content">
      <h2>Image Settings</h2>
      <div class="modal-preview-area">
        <canvas id="modalCanvas"></canvas>
        <div id="cropSelectionBox" class="crop-box" style="display:none;"></div>
      </div>
      <div class="modal-options">
        <div class="quality-dropdown-container">
            <label for="imageQualityPreset">Resolution:</label>
            <select id="imageQualityPreset">
                <option value="120">120p (Smallest)</option>
                <option value="240">240p</option>
                <option value="360">360p (Low)</option>
                <option value="480">480p (SD)</option>
                <option value="720" selected>720p (HD)</option>
                <option value="1080">1080p (Full HD)</option>
                <option value="1440">1440p (2K)</option>
                <option value="2160">2160p (4K)</option>
                <option value="original">Original Size</option>
            </select>
        </div>
        <label>
            Compression: <input type="range" id="modalCompressionRange" min="0.1" max="1.0" step="0.05" value="0.8"> <span id="modalCompressionValue">80%</span>
        </label>
      </div>
      <div class="modal-buttons">
        <button id="resetCropBtn">Reset Crop</button>
        <button id="applyImageSettingsBtn">Apply & Encode</button>
        <button class="cancel" id="cancelImageModalBtn">Cancel</button>
      </div>
    </div>
  </div>

  <div id="notification-container"></div>

  <script src="script.js"></script>
</body>
</html>
